package es.cvmaker.upv.aplicacion;

import android.app.TabActivity;
import android.os.Bundle;
import android.view.View;
import android.view.ViewManager;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.LinearLayout;
import android.widget.Spinner;
import android.widget.TabHost;

public class Actividad_Editar extends TabActivity {
	String[] añoNacimiento, mesNacimiento, diaNacimiento, cv2AñoInicio,
			cv2AñoFin, cv3AñoInicio, cv3AñoFin, cv5AñoInicio, cv5AñoFin,
			cv6AñoInicio, cv6AñoFin;

	int ContadorSpinner = 1;
	String spinnerItemSeleccionado = "";
	int maxEntradas = 25;
	String[] stringsItemSpinner;
	Spinner[][] spinnerArray = new Spinner[4][maxEntradas];// [cv2 cv3 cv5
															// cv6][max
															// entradas]

	public void setSpinner(int resStringId, int viewSpinner, int cv,
			int cvContadorSpinner) {
		String[] stringItemsSpinner = getResources()
				.getStringArray(resStringId);
		spinnerArray[cv][ContadorSpinner] = (Spinner) findViewById(viewSpinner);
		ArrayAdapter<String> spinner_adaptador = new ArrayAdapter<String>(this,
				android.R.layout.simple_spinner_item, stringItemsSpinner);
		spinner_adaptador
				.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
		spinnerArray[cv][cvContadorSpinner].setAdapter(spinner_adaptador);
	}

	public String listenSpinner(int cv,int cvContadorSpinner) {
		MyOnItemSelectedListener spinnerListener = new MyOnItemSelectedListener();
		spinnerArray[cv][ContadorSpinner]
				.setOnItemSelectedListener(spinnerListener);
		spinnerItemSeleccionado = spinnerListener.selected;
		return spinnerItemSeleccionado;
	}

	public void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.actividad_editar_scroll_tab);
		TabHost tabHost = getTabHost();
		tabHost.addTab(tabHost.newTabSpec("tab1").setIndicator("Titulo1", null)
				.setContent(R.id.tab1Layout));
		tabHost.addTab(tabHost.newTabSpec("tab2").setIndicator("Titulo2", null)
				.setContent(R.id.tab2Layout));
		tabHost.addTab(tabHost.newTabSpec("tab3").setIndicator("Titulo3", null)
				.setContent(R.id.tab3Layout));

		// // Preparo los Spinners
		setSpinner(R.array.ano, R.id.cv2SpinnerAnoIinicio, 2, 1);
		listenSpinner(2, 1);
	}

	public void lanzarcv2Mas(View view) {

		LinearLayout cv2LayoutModulos = (LinearLayout) findViewById(R.id.cv2LayoutModulos);
		;
		Button botonMas = (Button) findViewById(R.id.cv2BotonMas);

		((ViewManager) botonMas.getParent()).removeView(botonMas); // Borro el
																	// botón del
																	// layout
		View cv2LayoutModulo1 = getLayoutInflater().inflate(
				R.layout.actividad_cv2_datosacademicos_modulo, null); // Añado
																		// LayoutMódulo
																		// en
																		// dos
																		// pasos
																		// para
		cv2LayoutModulos.addView(cv2LayoutModulo1); // guardarme en un view el
													// nuevo módulo
		cv2LayoutModulos.addView(getLayoutInflater().inflate(
				R.layout.actividad_cv2_datosacademicos_mas, null)); // Añado
																	// BotonMás

		String[] cv2AñoInicio2 = getResources().getStringArray(R.array.mes);
		Spinner spinner_cv2AñoInicio2 = (Spinner) cv2LayoutModulo1
				.findViewById(R.id.cv2SpinnerAnoIinicio);
		ArrayAdapter<String> spinner_adaptador5 = new ArrayAdapter<String>(
				this, android.R.layout.simple_spinner_item, cv2AñoInicio2);
		spinner_adaptador5
				.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
		spinner_cv2AñoInicio2.setAdapter(spinner_adaptador5);

	}

}
